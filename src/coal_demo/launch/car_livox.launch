
<launch>

    <!-- <param name="robot_description" command="$(find xacro)/xacro  $(find coal_demo)/urdf/car_avia.xacro" /> -->
    <param name="robot_description" command="$(find xacro)/xacro  $(find coal_demo)/urdf/car_avia.xacro" />

    <arg name="world" default="$(find coal_demo)/worlds/222.world" />


    <include file="$(find gazebo_ros)/launch/empty_world.launch">
        <arg name="world_name" value="$(arg world)"/> <arg name="paused" 
        value="false"/> <arg name="use_sim_time" value="true"/> <arg 
        name="gui" value="true"/> <arg name="headless" value="false"/> <arg 
        name="debug" value="false"/> <arg name="verbose" value="true"/>
    </include>

    <node pkg="gazebo_ros" type="spawn_model" name="model" args="-urdf -model mycar -param robot_description"  />

    <!-- 启动 rviz -->
    <!-- <node pkg="rviz" type="rviz" name="rviz" /> -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find coal_demo)/rviz/car_livox.rviz"/>
    <!-- 关节以及机器人状态发布节点 -->
    <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />

    <node pkg="tf" type="static_transform_publisher" name="odom_to_base_footprint" args="0.0 0.0 0.0 0 0 0.0 /odom /base_footprint 10000"/>

    <!-- 将pointcloud转换成pointcloud2 -->
    <node pkg="coal_demo" type="pcl_2_pcl2" name="pcl_2_pcl2" output="screen"/>

</launch>